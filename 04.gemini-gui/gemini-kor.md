# Flutter를 이용한 Gemini CLI GUI

## 1. 목표
사용자가 Gemini CLI와 상호작용하고 출력을 사용자 친화적인 애플리케이션 내에서 볼 수 있도록 Flutter 기반의 그래픽 사용자 인터페이스(GUI)를 만드는 것입니다.

## 2. 구현 방법

Flutter 애플리케이션은 `dart:io` 라이브러리를 사용하여 외부 명령줄 프로세스를 실행하고 해당 출력을 캡처할 수 있습니다.

### 주요 `dart:io` 클래스:

*   **`Process.run()`**:
    *   **목적**: 명령을 실행하고 완료될 때까지 기다린 후 `stdout`, `stderr`, `exitCode`를 포함하는 `ProcessResult` 객체를 반환합니다.
    *   **사용 사례**: 실행 후 전체 출력이 필요한 단일 명령(예: `gemini --version`)에 이상적입니다.

*   **`Process.start()`**:
    *   **목적**: 프로세스를 시작하고 즉시 `Process` 객체를 반환하여 `stdin`, `stdout`, `stderr` 스트림과 비동기적으로 상호작용할 수 있도록 합니다.
    *   **사용 사례**: 장기 실행 프로세스 또는 실시간으로 출력을 스트리밍해야 하는 대화형 CLI(예: `gemini chat`, `gemini run`)에 필수적입니다. 이는 Gemini CLI 상호작용에 매우 중요합니다.

### 제안된 접근 방식:

1.  **CLI 명령 실행**: `Process.start()`를 사용하여 Gemini CLI를 실행합니다. 이를 통해 `gemini chat`과 같은 대화형 명령에 중요한 출력을 생성되는 즉시 캡처할 수 있습니다.
2.  **출력 캡처**: 생성된 프로세스의 `stdout` 및 `stderr` 스트림을 수신합니다.
3.  **출력 표시**: 캡처된 출력을 사용하여 Flutter UI를 실시간으로 업데이트합니다.
4.  **입력 전송**: CLI의 `stdin`으로 명령 또는 입력을 보낼 수 있는 메커니즘(예: 텍스트 입력 필드)을 제공합니다.

## 3. GUI 계획 (높은 수준)

GUI는 깔끔하고 기능적인 디자인을 목표로 하며, 명령 입력 및 출력 표시에 대한 명확한 인터페이스를 제공합니다.

### 구성 요소:

*   **명령 입력 필드**: 사용자가 Gemini CLI 명령을 입력할 수 있는 `TextField`.
*   **실행 버튼**: 입력 필드에 입력된 명령의 실행을 트리거하는 버튼.
*   **출력 표시 영역**: Gemini CLI의 `stdout` 및 `stderr`를 표시하는 스크롤 가능한 `Text` 위젯 또는 `ListView`. 이 영역은 실시간으로 업데이트되어야 합니다.
*   **상태 표시줄/표시기**: (선택 사항) CLI 프로세스의 현재 상태(예: "실행 중...", "유휴", "오류")를 표시합니다.
*   **기록/로그**: (선택 사항) 이전 명령 및 해당 출력을 볼 수 있는 방법.

### 초기 화면 레이아웃:

```
+-------------------------------------+
| AppBar (Gemini CLI GUI)             |
+-------------------------------------+
|                                     |
|  [출력 표시 영역 (스크롤 가능)] |
|                                     |
|                                     |
|                                     |
|                                     |
+-------------------------------------+
| [명령 입력 필드                 ]  |
+-------------------------------------+
| [실행 버튼]                         |
+-------------------------------------+
```

## 4. 진행 상황 업데이트

*   **프로젝트 설정**: `gemini_cli_gui`라는 새 Flutter 프로젝트가 하위 폴더에 성공적으로 생성되었습니다.
*   **기본 UI 구현**: `lib/main.dart` 파일이 명령 입력 `TextField`, "명령 실행" `ElevatedButton`, 출력 표시를 위한 스크롤 가능한 `Text` 위젯을 포함하도록 업데이트되었습니다.
*   **CLI 통합**: `dart:io`의 `Process.start()`가 사용자가 입력한 명령을 실행하도록 통합되었습니다. `stdout` 및 `stderr`가 실시간으로 캡처되어 표시됩니다.
*   **`stdin` 입력**: `gemini chat`과 같은 대화형 명령에 중요한, 실행 중인 CLI 프로세스의 `stdin`으로 입력을 보낼 수 있는 기능이 구현되었습니다.
*   **출력 지우기**: 출력 표시 영역을 지우는 "출력 지우기" 버튼이 추가되었습니다.
*   **향상된 오류 표시**: 사용자 정의 `OutputEntry` 클래스와 `ListView.builder`를 사용하여 오류 메시지를 빨간색으로 표시하도록 오류 표시가 개선되었습니다.
*   **상태 표시기**: `ProcessStatus` 열거형과 CLI 프로세스의 현재 상태(유휴, 실행 중, 오류)를 표시하는 상태 표시가 구현되었습니다.
*   **명령 기록**: 사용자가 화살표 키를 사용하여 이전에 입력한 명령을 탐색할 수 있는 명령 기록 기능이 추가되었습니다.
*   **플랫폼 호환성**: 애플리케이션이 Windows에서 성공적으로 실행 및 테스트되었습니다.
